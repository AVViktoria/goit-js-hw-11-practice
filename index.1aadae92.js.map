{"mappings":"sEACAA,OAAOC,eAAeC,EAAS,aAAc,CACzCC,OAAO,IAEXD,EAAQE,QACR,SAAyBC,EAAUC,GAC/B,KAAMD,aAAoBC,GACtB,MAAM,IAAIC,UAAU,oC,WCG5B,SAASC,EAAkBC,EAAQC,GAC/B,IAAI,IAAIC,EAAI,EAAGA,EAAID,EAAME,OAAQD,IAAI,CACjC,IAAIE,EAAaH,EAAMC,GACvBE,EAAWC,WAAaD,EAAWC,aAAc,EACjDD,EAAWE,cAAe,EACtB,UAAWF,IAAYA,EAAWG,UAAW,GACjDhB,OAAOC,eAAeQ,EAAQI,EAAWI,IAAKJ,E,EAftDb,OAAOC,eAAeiB,EAAS,aAAc,CACzCf,OAAO,IAEXe,EAAQd,QACR,SAAsBE,EAAaa,EAAYC,GACvCD,GAAYX,EAAkBF,EAAYe,UAAWF,GACrDC,GAAaZ,EAAkBF,EAAac,GAChD,OAAOd,C,ECsBI,IAAAgB,EC9BZ,W,sBD8BkBC,I,aAEjBC,KAAKC,YAAc,GACnBD,KAAKE,KAAO,C,iBAGdT,IAAA,gB,MAAA,W,WAGQU,EAAM,GAAmBC,OADd,2BACO,SAAoBA,OAF5B,qCAEuB,OAAkGA,OAA7FJ,KAAKC,YAAY,8EAAsFG,OAAVJ,KAAKE,MAE9IG,MAAMF,GACHG,MAAK,SAAAC,G,OAAKA,EAAEC,M,IACZF,MAAK,SAAAG,GACJC,EAAKC,e,OAaXlB,IAAA,gB,MAAA,WACEO,KAAKE,MAAQ,C,IAGfT,IAAA,Y,MAAA,WACEO,KAAKE,KAAO,C,IAGVT,IAAA,Q,IAAJ,WACE,OAAOO,KAAKC,W,MAGd,SAAUW,GACRZ,KAAKC,YAAcW,C,OCtEpB,GCgBGC,EAAO,CACXC,WAAYC,SAASC,cAAc,gBACnCC,YAAaF,SAASC,cAAc,iBACpCE,UAAWH,SAASC,cAAc,mBAClCG,QAASJ,SAASC,cAAc,YAChCI,YAAaL,SAASC,cAAc,cACpCK,QAASN,SAASC,cAAc,oBAG5BM,EAAiB,IAAIxB,EAC3ByB,QAAQC,IAAI1B,GACZe,EAAKC,WAAWW,iBAAiB,UAEjC,SAAkBC,GAChBA,EAAEC,iBAEFL,EAAeM,MAAQF,EAAEG,cAAcC,SAASF,MAAMjD,MACtD2C,EAAeS,YACfT,EAAeU,e,IANjBnB,EAAKO,YAAYK,iBAAiB,SAQlC,WACEH,EAAeU,e","sources":["node_modules/@swc/helpers/lib/_class_call_check.js","node_modules/@swc/helpers/lib/_create_class.js","src/js/news-service.js","<<jsx-config-pragma.js>>","src/index.js"],"sourcesContent":["\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _classCallCheck;\nfunction _classCallCheck(instance, Constructor) {\n    if (!(instance instanceof Constructor)) {\n        throw new TypeError(\"Cannot call a class as a function\");\n    }\n}\n","\"use strict\";\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\nexports.default = _createClass;\nfunction _createClass(Constructor, protoProps, staticProps) {\n    if (protoProps) _defineProperties(Constructor.prototype, protoProps);\n    if (staticProps) _defineProperties(Constructor, staticProps);\n    return Constructor;\n}\nfunction _defineProperties(target, props) {\n    for(var i = 0; i < props.length; i++){\n        var descriptor = props[i];\n        descriptor.enumerable = descriptor.enumerable || false;\n        descriptor.configurable = true;\n        if (\"value\" in descriptor) descriptor.writable = true;\n        Object.defineProperty(target, descriptor.key, descriptor);\n    }\n}\n","// import axios from 'axios';\n\n// const API_KEY = '30114983-364137b9a9ec33f130a531f95';\n// const BASE_URL = 'https://pixabay.com/api/';\n\n// async function getImgs(name, page) {\n//   const options = {\n//     url: BASE_URL,\n//     options: {\n//       key: API_KEY,\n//       image_type: 'photo',\n//       orientation: 'horizontal',\n//       safesearch: false,\n//       q: name,\n//       page: page,\n//       per_page: 40,\n//     }\n// }\n// return await axios (options);\n// }\n// export { getImgs };\n\n// export default async function fetchImages(value, page) {\n//   const url = 'https://pixabay.com/api/';\n//   const key = '11240134-58b8f655e9e0f8ae8b6e8e7de';\n//   const filter = `?key=${key}&q=${value}&image_type=photo&orientation=horizontal&safesearch=true&per_page=40&page=${page}`;\n\n//   return await axios.get(`${url}${filter}`).then(response => response.data);\n// }\n\nexport default class NewsApiService {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n\n  fetchArticles() {\n    const API_KEY = '30114983-364137b9a9ec33f130a531f95';\n    const BASE_URL = 'https://pixabay.com/api/';\n    const url = `${BASE_URL}?key=${API_KEY}&q=${this.searchQuery}&image_type=photo&orientation=horizontal&safesearch=true&per_page=40&page=${this.page}`;\n\n    fetch(url)\n      .then(r => r.json())\n      .then(data => {\n        this.incrementPage();\n        // console.log(this.page);\n        // console.log(this);\n      });\n\n    //     return fetch(url, options)\n    //       .then(response => response.json())\n    //       .then(({ articles }) => {\n    //         this.incrementPage();\n    //         return articles;\n    //       });\n  }\n\n  incrementPage() {\n    this.page += 1;\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n}\n",null,"//*   IMPORTS  libraries\n\n// import SimpleLightbox from 'simplelightbox';\n// import 'simplelightbox/dist/simple-lightbox.min.css';\n\n// import { Notify } from 'notiflix/build/notiflix-notify-aio';\n// import { Notify } from 'notiflix';\n\n//*   IMPORTS  components  files\nimport './css/common.css';\nimport NewsApiService from './js/news-service';\n// import cardTemplate from './templates/oneCardTemplate.hbs';\n// import fetchImages from './js/news-service';\n// import { onClickLoadMoreBtn } from './js/load-more-btn';\n\n//*     CONSTANTS\nconst refs = {\n  searchForm: document.querySelector('.search-form'),\n  searchInput: document.querySelector('[type=\"text\"]'),\n  submitBtn: document.querySelector('[type=\"submit\"]'),\n  gallery: document.querySelector('.gallery'),\n  loadMoreBtn: document.querySelector('.load-more'),\n  spinner: document.querySelector('.spinner-border'),\n};\n \nconst newsApiService = new NewsApiService();\nconsole.log(NewsApiService);\nrefs.searchForm.addEventListener('submit', onSearch);\nrefs.loadMoreBtn.addEventListener('click', onLoadMore);\nfunction onSearch(e) {\n  e.preventDefault();\n  \n  newsApiService.query = e.currentTarget.elements.query.value;\n  newsApiService.resetPage();\n  newsApiService.fetchArticles();\n}\nfunction onLoadMore() {\n  newsApiService.fetchArticles()\n}\n\n\n\n\n// import articlesTpl from './templates/articles.hbs';\n// import './css/common.css';\n// import NewsApiService from './js/news-service';\n// import LoadMoreBtn from './js/components/load-more-btn';\n\n// const refs = {\n//   searchForm: document.querySelector('.js-search-form'),\n//   articlesContainer: document.querySelector('.js-articles-container'),\n// };\n// const loadMoreBtn = new LoadMoreBtn({\n//   selector: '[data-action=\"load-more\"]',\n//   hidden: true,\n// });\n\n\n\n\n\n  \n \n\n  // if (newsApiService.query === '') {\n  //   return alert('Введи что-то нормальное');\n  // }\n// }\n//   loadMoreBtn.show();\n//   newsApiService.resetPage();\n//   clearArticlesContainer();\n//   fetchArticles();\n// }\n\n// function onLoadMore() {\n//   newsApiService.fetchArticles()\n// //   loadMoreBtn.disable();\n// //   newsApiService.fetchArticles().then(articles => {\n// //     appendArticlesMarkup(articles);\n// //     loadMoreBtn.enable();\n// //   });\n// }\n\n// function appendArticlesMarkup(articles) {\n//   refs.articlesContainer.insertAdjacentHTML('beforeend', articlesTpl(articles));\n// }\n\n// function clearArticlesContainer() {\n//   refs.articlesContainer.innerHTML = '';\n// }\n\n\n"],"names":["Object","defineProperty","$665014edacbfe17b$exports","value","default","instance","Constructor","TypeError","$74e7f8130373505f$var$_defineProperties","target","props","i","length","descriptor","enumerable","configurable","writable","key","$74e7f8130373505f$exports","protoProps","staticProps","prototype","$7a988f0374c947b6$export$2e2bcd8739ae039","NewsApiService","this","searchQuery","page","url","concat","fetch","then","r","json","data","_this","incrementPage","newQuery","$b8f9b7833fa37166$var$refs","searchForm","document","querySelector","searchInput","submitBtn","gallery","loadMoreBtn","spinner","$b8f9b7833fa37166$var$newsApiService","console","log","addEventListener","e","preventDefault","query","currentTarget","elements","resetPage","fetchArticles"],"version":3,"file":"index.1aadae92.js.map"}