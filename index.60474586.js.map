{"mappings":"AA8Be,MAAMA,EAMnBC,gBACE,MAEMC,EAAM,qEAAgCC,KAAKC,wFAAwFD,KAAKE,OAE9IC,MAAMJ,GACHK,MAAKC,GAAKA,EAAEC,SACZF,MAAKG,IACJP,KAAKQ,eAAe,G,CAa1BA,gBACER,KAAKE,MAAQ,C,CAGfO,YACET,KAAKE,KAAO,C,CAGVQ,YACF,OAAOV,KAAKC,W,CAGVS,UAAMC,GACRX,KAAKC,YAAcU,C,CAvCrBC,cACEZ,KAAKC,YAAc,GACnBD,KAAKE,KAAO,C,ECjBhB,MAAMW,EAAO,CACXC,WAAYC,SAASC,cAAc,gBACnCC,YAAaF,SAASC,cAAc,iBACpCE,UAAWH,SAASC,cAAc,mBAClCG,QAASJ,SAASC,cAAc,YAChCI,YAAaL,SAASC,cAAc,cACpCK,QAASN,SAASC,cAAc,oBAG5BM,EAAiB,IAAIzB,EAC3B0B,QAAQC,IAAI3B,GACZgB,EAAKC,WAAWW,iBAAiB,UAEjC,SAAkBC,GAChBA,EAAEC,iBAEFL,EAAeZ,MAAQgB,EAAEE,cAAcC,SAASnB,MAAMoB,MACtDR,EAAeb,YACfa,EAAexB,e,IANjBe,EAAKO,YAAYK,iBAAiB,SAQlC,WACEH,EAAexB,e","sources":["src/js/news-service.js","src/index.js"],"sourcesContent":["// import axios from 'axios';\n\n// const API_KEY = '30114983-364137b9a9ec33f130a531f95';\n// const BASE_URL = 'https://pixabay.com/api/';\n\n// async function getImgs(name, page) {\n//   const options = {\n//     url: BASE_URL,\n//     options: {\n//       key: API_KEY,\n//       image_type: 'photo',\n//       orientation: 'horizontal',\n//       safesearch: false,\n//       q: name,\n//       page: page,\n//       per_page: 40,\n//     }\n// }\n// return await axios (options);\n// }\n// export { getImgs };\n\n// export default async function fetchImages(value, page) {\n//   const url = 'https://pixabay.com/api/';\n//   const key = '11240134-58b8f655e9e0f8ae8b6e8e7de';\n//   const filter = `?key=${key}&q=${value}&image_type=photo&orientation=horizontal&safesearch=true&per_page=40&page=${page}`;\n\n//   return await axios.get(`${url}${filter}`).then(response => response.data);\n// }\n\nexport default class NewsApiService {\n  constructor() {\n    this.searchQuery = '';\n    this.page = 1;\n  }\n\n  fetchArticles() {\n    const API_KEY = '30114983-364137b9a9ec33f130a531f95';\n    const BASE_URL = 'https://pixabay.com/api/';\n    const url = `${BASE_URL}?key=${API_KEY}&q=${this.searchQuery}&image_type=photo&orientation=horizontal&safesearch=true&per_page=40&page=${this.page}`;\n\n    fetch(url)\n      .then(r => r.json())\n      .then(data => {\n        this.incrementPage();\n        // console.log(this.page);\n        // console.log(this);\n      });\n\n    //     return fetch(url, options)\n    //       .then(response => response.json())\n    //       .then(({ articles }) => {\n    //         this.incrementPage();\n    //         return articles;\n    //       });\n  }\n\n  incrementPage() {\n    this.page += 1;\n  }\n\n  resetPage() {\n    this.page = 1;\n  }\n\n  get query() {\n    return this.searchQuery;\n  }\n\n  set query(newQuery) {\n    this.searchQuery = newQuery;\n  }\n}\n","//*   IMPORTS  libraries\n\n// import SimpleLightbox from 'simplelightbox';\n// import 'simplelightbox/dist/simple-lightbox.min.css';\n\n// import { Notify } from 'notiflix/build/notiflix-notify-aio';\n// import { Notify } from 'notiflix';\n\n//*   IMPORTS  components  files\nimport './css/common.css';\nimport NewsApiService from './js/news-service';\n// import cardTemplate from './templates/oneCardTemplate.hbs';\n// import fetchImages from './js/news-service';\n// import { onClickLoadMoreBtn } from './js/load-more-btn';\n\n//*     CONSTANTS\nconst refs = {\n  searchForm: document.querySelector('.search-form'),\n  searchInput: document.querySelector('[type=\"text\"]'),\n  submitBtn: document.querySelector('[type=\"submit\"]'),\n  gallery: document.querySelector('.gallery'),\n  loadMoreBtn: document.querySelector('.load-more'),\n  spinner: document.querySelector('.spinner-border'),\n};\n \nconst newsApiService = new NewsApiService();\nconsole.log(NewsApiService);\nrefs.searchForm.addEventListener('submit', onSearch);\nrefs.loadMoreBtn.addEventListener('click', onLoadMore);\nfunction onSearch(e) {\n  e.preventDefault();\n  \n  newsApiService.query = e.currentTarget.elements.query.value;\n  newsApiService.resetPage();\n  newsApiService.fetchArticles();\n}\nfunction onLoadMore() {\n  newsApiService.fetchArticles()\n}\n\n\n\n\n// import articlesTpl from './templates/articles.hbs';\n// import './css/common.css';\n// import NewsApiService from './js/news-service';\n// import LoadMoreBtn from './js/components/load-more-btn';\n\n// const refs = {\n//   searchForm: document.querySelector('.js-search-form'),\n//   articlesContainer: document.querySelector('.js-articles-container'),\n// };\n// const loadMoreBtn = new LoadMoreBtn({\n//   selector: '[data-action=\"load-more\"]',\n//   hidden: true,\n// });\n\n\n\n\n\n  \n \n\n  // if (newsApiService.query === '') {\n  //   return alert('Введи что-то нормальное');\n  // }\n// }\n//   loadMoreBtn.show();\n//   newsApiService.resetPage();\n//   clearArticlesContainer();\n//   fetchArticles();\n// }\n\n// function onLoadMore() {\n//   newsApiService.fetchArticles()\n// //   loadMoreBtn.disable();\n// //   newsApiService.fetchArticles().then(articles => {\n// //     appendArticlesMarkup(articles);\n// //     loadMoreBtn.enable();\n// //   });\n// }\n\n// function appendArticlesMarkup(articles) {\n//   refs.articlesContainer.insertAdjacentHTML('beforeend', articlesTpl(articles));\n// }\n\n// function clearArticlesContainer() {\n//   refs.articlesContainer.innerHTML = '';\n// }\n\n\n"],"names":["$58f2b4ecc6251333$export$2e2bcd8739ae039","fetchArticles","url","this","searchQuery","page","fetch","then","r","json","data","incrementPage","resetPage","query","newQuery","constructor","$1f0dc3b9307be026$var$refs","searchForm","document","querySelector","searchInput","submitBtn","gallery","loadMoreBtn","spinner","$1f0dc3b9307be026$var$newsApiService","console","log","addEventListener","e","preventDefault","currentTarget","elements","value"],"version":3,"file":"index.60474586.js.map"}